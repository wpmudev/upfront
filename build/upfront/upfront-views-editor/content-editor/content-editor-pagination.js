!function(t){Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.views:Upfront.mainData.l10n.global.views;define(["text!upfront/templates/popup.html"],function(n){return Backbone.View.extend({paginationTpl:_.template(t(n).find("#upfront-pagination-tpl").html()),events:{"click .upfront-pagination_page-item":"handle_pagination_request","click .upfront-pagination_item-next":"handle_next","click .upfront-pagination_item-prev":"handle_prev","keypress .upfront-pagination_page-current":"set_page_keypress"},initialize:function(t){this.options=t},render:function(){this.$el.html(this.paginationTpl(this.collection.pagination)),this.hide_extra_ui()},hide_extra_ui:function(){this.collection.pagination.pages<=1&&this.$el.children("div").addClass("upfront-single-page-pagination")},handle_pagination_request:function(n,i){i=i?i:parseInt(t(n.target).attr("data-page_idx"),10)||0;var e=this;this.collection.pagination;this.collection.fetchPage(i).done(function(t){e.collection.trigger("reset")})},handle_next:function(t){var n=this.collection.pagination,i=n.currentPage!=n.pages-1&&n.currentPage+1;i&&this.handle_pagination_request(t,i)},handle_prev:function(t){var n=this.collection.pagination,i=0!=n.currentPage&&n.currentPage-1;i!==!1&&this.handle_pagination_request(t,i)},set_page_keypress:function(n){if(n.stopPropagation(),13!==n.which)return!0;var i=t.trim(t(n.target).val()),e=parseInt(i,10);return!(!e||e<1)&&(e>this.collection.pagination.pages&&(e=this.collection.pagination.pages),void this.handle_pagination_request(n,e-1))}})})}(jQuery);