!function(t){var n=Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.views:Upfront.mainData.l10n.global.views;define(["scripts/upfront/upfront-views-editor/commands/command","scripts/upfront/upfront-views-editor/css"],function(e,o){return e.extend({tagName:"div",className:"command-edit-css upfront-icon upfront-icon-edit-css",initialize:function(){this.lazy_save_styles=_.debounce(function(t){this.model.set({styles:t})},1e3)},render:function(){this.$el.html('<span title="'+n.add_custom_css_rules+'">'+n.add_custom_css_rules+"</span>")},on_click:function(){var n,e=this;n=new o.GeneralCSSEditor({model:this.model,page_class:this.model.get("id")+"-breakpoint",type:"Layout",sidebar:!1,global:!0,change:function(t){e.lazy_save_styles(t)}}),Upfront.Application.generalCssEditor=n,Upfront.Events.on("upfront:layout_size:change_breakpoint",function(){n.close()}),Upfront.Events.on("upfront:exit:responsive",function(){t.contains(document.documentElement,n.$el.get(0))&&n.close()}),Upfront.Events.on("element:settings:activate",function(){t.contains(document.documentElement,n.$el.get(0))&&n.close()})}})})}(jQuery);