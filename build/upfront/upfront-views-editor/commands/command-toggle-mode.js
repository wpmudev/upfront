!function(t){var n=Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.views:Upfront.mainData.l10n.global.views;define(["scripts/upfront/upfront-views-editor/commands/command"],function(t){return t.extend({className:"command-toggle-mode",enabled:!0,initialize:function(){Upfront.Events.on("upfront:element:edit:start",this.disable_toggle,this),Upfront.Events.on("upfront:element:edit:stop",this.enable_toggle,this)},render:function(){this.$el.html(_.template("<span title='toggle editing mode'>"+n.current_mode+"</span>",{mode:Upfront.Application.get_current()}))},on_click:function(){if(!this.enabled)return!1;var t=Upfront.Application.mode&&Upfront.Application.mode.current&&Upfront.Application.mode.current!=Upfront.Application.MODE.CONTENT?Upfront.Application.MODE.CONTENT:Upfront.Application.mode.last;Upfront.Application.start(t)},disable_toggle:function(){this.$el.css("opacity",.5),this.enabled=!1},enable_toggle:function(){this.$el.css("opacity",1),this.enabled=!0}})})}(jQuery);