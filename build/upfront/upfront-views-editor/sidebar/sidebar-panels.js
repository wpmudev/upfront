!function(e){Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.views:Upfront.mainData.l10n.global.views;define(["scripts/upfront/upfront-views-editor/sidebar/sidebar-panel-post-editor","scripts/upfront/upfront-views-editor/sidebar/sidebar-panel-posts","scripts/upfront/upfront-views-editor/sidebar/sidebar-panel-draggable-elements","scripts/upfront/upfront-views-editor/sidebar/sidebar-panel-settings"],function(e,t,i,n){return Backbone.View.extend({tagName:"ul",className:"sidebar-panels",initialize:function(){this.init_modules(),this.listenTo(Upfront.Events,"click:edit:navigate",this.init_modules)},init_modules:function(s){this.panels={post_editor:new e({model:this.model}),posts:new t({model:this.model}),elements:new i({model:this.model}),settings:new n({model:this.model})},"undefined"!=typeof s?s===!1&&(this.panels=_.omit(this.panels,"post_editor")):("undefined"==typeof _upfront_post_data.post_id||_upfront_post_data.post_id===!1)&&(this.panels=_.omit(this.panels,"post_editor"))},render:function(){var e=this;e.$el.empty(),_.each(this.panels,function(t,i){t.remove(),t=e.panels[i],"post_editor"===i&&t.initialize(),t.render(),"undefined"!=typeof t.global_option&&t.global_option?Upfront.Settings.Application.PERMS.OPTIONS&&e.$el.append(t.el):Upfront.Application.user_can_modify_layout()&&e.$el.append(t.el),t.delegateEvents()})}})})}(jQuery);