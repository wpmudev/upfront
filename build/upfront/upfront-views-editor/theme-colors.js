!function(e){Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.views:Upfront.mainData.l10n.global.views;define([],function(){var e=Backbone.Model.extend({defaults:{color:"",prev:"",highlight:"",shade:"",selected:"",luminance:"",alpha:1},get_hover_color:function(){var e=this;return""!==this.get("selected")?this.get(e.get("selected")):"#000000"===this.get("color")&&0==this.get("alpha")?"inherit":this.get("color")}}),t=Backbone.Collection.extend({model:e,get_colors:function(){return this.pluck("color")?this.pluck("color"):[]},is_theme_color:function(e){return e=this.color_to_hex(e),-1!==_.indexOf(this.get_colors(),e)?_.indexOf(this.get_colors(),e)+1:!1},get_css_class:function(e,t){e=this.color_to_hex(e);var o=_.isUndefined(t)||t===!1?"upfront_theme_color_":"upfront_theme_bg_color_";if(this.is_theme_color(e)){var r=this.findWhere({color:e});if(r){var n=this.indexOf(r);return o+n}}return!1},get_all_classes:function(e){var t=_.isUndefined(e)||e===!1?"upfront_theme_color_":"upfront_theme_bg_color_",o=[];return _.each(this.get_colors(),function(e,r){o.push(t+r)}),o},remove_theme_color_classes:function(e,t){_.each(this.get_all_classes(t),function(t){e.removeClass(t)})},color_to_hex:function(e){if("function"==typeof tinycolor)return e=tinycolor(e),"#000000"===e.toHexString()&&0==e.alpha?"inherit":e.toHexString();if("#"===e.substr(0,1))return e;e=e.replace(/\s+/g,"");var t=/(.*?)rgb\((\d+),(\d+),(\d+)\)/.exec(e);t=_.isEmpty(t)?/(.*?)rgba\((\d+),(\d+),(\d+),([0-9.]+)\)/.exec(e):t;var o=parseInt(t[2],10),r=parseInt(t[3],10),n=parseInt(t[4],10),i=n|r<<8|o<<16;return t[1]+"#"+i.toString(16)}});return{colors:new t(Upfront.mainData.themeColors.colors),range:Upfront.mainData.themeColors.range||0}})}(jQuery);