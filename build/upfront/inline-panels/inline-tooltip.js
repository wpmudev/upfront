!function(t){define([],function(){t.fn.utooltip=function(e){this.each(function(n,i){var p,l=e.panel;p=e.fromTitle===!0?t(i).attr("title"):e.content,tooltip=new o({element:t(i),content:p,panel:l,wrapper:!1})})};var o=Backbone.View.extend({className:"upfront-inline-tooltip",initialize:function(o){var e=t(o.element).find(".upfront-icon"),n=this;this.options=o,"undefined"!=typeof this.options.wrapper&&this.options.wrapper===!1&&(e=t(o.element)),"undefined"==typeof this.options.panel||"side"!==this.options.panel&&"normal"!==this.options.panel||(e=t(o.element).find("label")),e.on("mouseenter",function(t){n.openTooltip(t,o.content)}).on("mouseleave",function(t){n.closeTooltip()}),this.listenTo(Upfront.Events,"tooltip:close",this.closeTooltip)},openTooltip:function(o,e){var n=t("#upfront-inline-tooltip"),i=t(o.currentTarget).closest(".upfront-inline-panel"),p=this;"undefined"!=typeof this.options.panel&&"tooltip"===this.options.panel&&(i=t(o.currentTarget).closest(".image-sub-control")),"undefined"!=typeof this.options.panel&&"redactor"===this.options.panel&&(i=t(o.currentTarget).closest(".redactor_air"));var l,s;"undefined"!=typeof this.options.panel&&"side"===this.options.panel?(i=t(o.currentTarget).closest("li"),l=i.offset(),s={top:l.top+4,left:l.left+i.outerWidth()+5}):"undefined"!=typeof this.options.panel&&"colorPicker"===this.options.panel?(i=t(o.currentTarget).closest(".uf-color-picker-wrapper"),l=i.offset(),s={top:l.top-24,left:l.left+1}):(i.length||(i=t(o.currentTarget).closest(".redactor_air")),l=i.offset(),s={top:l.top-i.outerHeight()+7,left:l.left}),n.length||(n=t('<div id="upfront-inline-tooltip" class="upfront-ui"></div>'),t("body").append(n)),n.hide().html(e),n.css(s).show().on("click",function(t){t.stopPropagation()}).on("closed",function(t){p.$el.removeClass("tooltip-open")}),this.$el.addClass("tooltip-open")},closeTooltip:function(){var o=t("#upfront-inline-tooltip");o.hide().trigger("closed")}});return o})}(jQuery);