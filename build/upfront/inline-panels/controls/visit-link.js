define(["scripts/upfront/inline-panels/control"],function(e){var t=Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.content:Upfront.mainData.l10n.global.content,n=e.extend({className:"upfront-inline-panel-item visit-link-control",initialize:function(e){this.options=e||{},this.constructor.__super__.initialize.call(this,e),this.linkLabel=_.extend({unlink:t.not_linked,lightbox:t.open_lightbox,anchor:t.scroll_to_anchor,entry:t.go_to_post,external:t.open_ext_link,email:t.send_email,phone:t.dial_number},e.linkLabel||{}),this.setOptions(this.options.url,this.options.type),this.hideIfUnlink=e.hideIfUnlink===!0,this.setOptions(this.options.url)},setOptions:function(e,t){var n=t?t:Upfront.Util.guessLinkType(e);this.url=e,this.icon="visit-link-"+n,this.label=this.getTextByLinkType(n)},clicked:function(e){this.constructor.__super__.clicked.call(this,e),this.url!==""&&Upfront.Util.visitLink(this.url)},setLink:function(e,t){this.setOptions(e,t),this.render()},on_render:function(){this.hideIfUnlink&&Upfront.Util.guessLinkType(this.url)=="unlink"?this.$el.hide():this.$el.is(":visible")||this.$el.show()},getTextByLinkType:function(e){return this.linkLabel[e]}});return n});