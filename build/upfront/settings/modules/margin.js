define(["scripts/upfront/settings/modules/base-module"],function(e){var i=Upfront.Settings.l10n.preset_manager,t=e.extend({className:"margin-settings sidebar-settings clearfix",initialize:function(e){this.options=e||{};var t=this,n=(Upfront.Settings.LayoutEditor.Grid.column_margin,this.options.state);this.fields=_([new Upfront.Views.Editor.Field.Toggle({model:this.model,className:"use-margin checkbox-title upfront-toggle-field",use_breakpoint_property:!0,name:t.options.fields.use,label:"",multiple:!1,values:[{label:i.margin,value:"yes"}],change:function(e){t.model.set(t.options.fields.use,e)},show:function(e,i){var o=i.closest(".upfront-settings-item-content"),s=t.model.get(t.options.fields.lock);"yes"==e?("yes"==s&&(o.find(".margin-left").find("input").prop("disabled",!0).css("opacity",.4),o.find(".margin-bottom").find("input").prop("disabled",!0).css("opacity",.4),o.find(".margin-right").find("input").prop("disabled",!0).css("opacity",.4)),o.find("."+n+"-toggle-wrapper").show()):o.find("."+n+"-toggle-wrapper").hide()}}),lock_margin=new Upfront.Views.Editor.Field.Checkboxes({model:this.model,className:"margin-lock",name:t.options.fields.lock,label:"",default_value:0,multiple:!1,values:[{label:"",value:"yes"}],show:function(e){var i=t.$el,n=t.model.get(t.options.fields.use);t.model.get(t.options.fields.margin_number);"yes"==e&&"yes"==n?(i.find(".margin-left").find("input").prop("disabled",!0).css("opacity",.4),i.find(".margin-bottom").find("input").prop("disabled",!0).css("opacity",.4),i.find(".margin-right").find("input").prop("disabled",!0).css("opacity",.4)):(i.find(".margin-left").find("input").prop("disabled",!1).css("opacity",1),i.find(".margin-bottom").find("input").prop("disabled",!1).css("opacity",1),i.find(".margin-right").find("input").prop("disabled",!1).css("opacity",1))},change:function(e){t.model.set(t.options.fields.lock,e)}}),margin_top=new Upfront.Views.Editor.Field.Number({model:this.model,className:"margin-top",name:t.options.fields.top_num,label:"",step:5,min:0,change:function(e){var i=t.model.get(t.options.fields.lock);t.model.set(t.options.fields.top_num,e),"yes"==i&&(t.model.set(t.options.fields.left_num,e),t.model.set(t.options.fields.right_num,e),t.model.set(t.options.fields.bottom_num,e),margin_left.get_field().val(e),margin_right.get_field().val(e),margin_bottom.get_field().val(e))}}),margin_left=new Upfront.Views.Editor.Field.Number({model:this.model,className:"margin-left",name:t.options.fields.left_num,label:"",step:5,min:0,change:function(e){t.model.set(t.options.fields.left_num,e)}}),margin_right=new Upfront.Views.Editor.Field.Number({model:this.model,className:"margin-right",name:t.options.fields.right_num,label:"",step:5,min:0,change:function(e){t.model.set(t.options.fields.right_num,e)}}),margin_bottom=new Upfront.Views.Editor.Field.Number({model:this.model,className:"margin-bottom",name:t.options.fields.bottom_num,label:"",step:5,min:0,change:function(e){t.model.set(t.options.fields.bottom_num,e)}})])}});return t});